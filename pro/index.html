<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SheShield - Women Safety & Support</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#4A1E73',
                        secondary: '#D76D77'
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.8s ease-out',
                        'pulse': 'pulse 2s infinite',
                        'gradient-flow': 'gradientFlow 3s ease infinite'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        pulse: {
                            '0%, 100%': { transform: 'scale(1)' },
                            '50%': { transform: 'scale(1.1)' }
                        },
                        gradientFlow: {
                            '0%': { backgroundPosition: '0% 50%' },
                            '50%': { backgroundPosition: '100% 50%' },
                            '100%': { backgroundPosition: '0% 50%' }
                        }
                    }
                }
            }
        }
    </script>
    <script defer src="https://unpkg.com/alpinejs@3.13.3/dist/cdn.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script> -->
</head>
<body class="font-[Inter] bg-[#1E1E2E]">
    <nav class="fixed w-full top-0 bg-[#1E1E2E] shadow-lg z-50 px-6 py-4">
        <div class="max-w-7xl mx-auto flex items-center justify-between">
            <div class="flex items-center space-x-2">
                <svg width="40" height="40" viewBox="0 0 40 40" fill="none" class="flex-shrink-0">
                    <defs>
                        <linearGradient id="shieldGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#4A1E73" />
                            <stop offset="100%" stop-color="#D76D77" />
                        </linearGradient>
                    </defs>
                    <path d="M20 4C13 8 7 8 4 8C4 20 7 28 20 36C33 28 36 20 36 8C33 8 27 8 20 4Z" fill="url(#shieldGradient)" stroke="#D76D77" stroke-width="1.5"/>
                    <path d="M20 12C17 12 14.5 14.5 14.5 17.5C14.5 19.5 15.5 21.2 17 22.2V26L20 28L23 26V22.2C24.5 21.2 25.5 19.5 25.5 17.5C25.5 14.5 23 12 20 12Z" fill="white" stroke="#D76D77" stroke-width="0.75"/>
                    <circle cx="20" cy="17.5" r="2" fill="#D76D77"/>
                </svg>
                <span class="text-2xl font-bold text-[#D76D77]">SheShield</span>
            </div>
            <div class="hidden md:flex items-center space-x-8">
                <a href="index.html" class="text-white hover:text-[#D76D77] transition-colors duration-300">Home</a>
                <a href="aboutnew.html" class="text-white hover:text-[#D76D77] transition-colors duration-300">About Us</a>
                <a href="#features" class="text-white hover:text-[#D76D77] transition-colors duration-300">Safety Services</a>
                <a href="#how-it-works" class="text-white hover:text-[#D76D77] transition-colors duration-300">How It Works</a>
                <a href="#contact" class="text-white hover:text-[#D76D77] transition-colors duration-300">Emergency</a>
            </div>
            <div class="flex items-center space-x-4">
                <button class="bg-gradient-to-r from-[#4A1E73] to-[#D76D77] hover:from-[#5A2E83] hover:to-[#E77D87] text-white px-8 py-3 rounded-full transition-all duration-300 hover:shadow-lg transform hover:scale-[1.02] flex items-center space-x-2" onclick="window.location.href='login.html'">Log In</button>
                <button class="bg-gradient-to-r from-[#4A1E73] to-[#D76D77] hover:from-[#5A2E83] hover:to-[#E77D87] text-white px-8 py-3 rounded-full transition-all duration-300 hover:shadow-lg transform hover:scale-[1.02] flex items-center space-x-2" onclick="window.location.href='report.html'">Report Now</button>
            </div>
        </div>
    </nav>

    <main class="pt-20">
        <div class="relative min-h-screen bg-gradient-to-r from-primary to-secondary flex items-center justify-center px-4 bg-fixed bg-cover" style="background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url('img1.png');">
            <div class="text-center text-white max-w-3xl mx-auto">
                <h1 class="text-5xl md:text-6xl font-bold mb-6 animate-fade-in font-['Playfair_Display'] bg-gradient-to-r from-white to-secondary bg-clip-text text-transparent">Empowering Women's Safety</h1>
                <p class="text-xl md:text-2xl mb-8 opacity-90">24/7 Emergency support and incident reporting system for women's safety.</p>
                <button class="px-8 py-3 bg-white text-primary rounded-full text-lg font-semibold hover:bg-primary hover:text-white transform hover:scale-105 transition-all duration-300 shadow-lg" onclick="window.location.href='signup.php'">Get Started</button>
            </div>
        </div>

        <section id="features" class="py-24 bg-black bg-opacity-90 bg-fixed bg-cover" style="background-image: linear-gradient(to right, rgba(0, 0, 0, 0.95), rgba(0, 0, 0, 0.8)), url('self-defense_1024x1024.webp');">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-4xl font-bold text-center mb-16 font-['Playfair_Display'] uppercase tracking-wider bg-gradient-to-r from-primary via-secondary to-pink-300 bg-clip-text text-transparent animate-gradient-flow relative after:content-[''] after:absolute after:bottom-0 after:left-1/2 after:-translate-x-1/2 after:w-24 after:h-1 after:bg-gradient-to-r after:from-primary after:to-secondary">Safety Services</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <div class="bg-white/10 backdrop-blur-sm p-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-white/20 text-white group">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" class="mb-4">
                            <circle cx="20" cy="20" r="16" stroke="#D76D77" stroke-width="2"/>
                            <path d="M20 12V28M12 20H28" stroke="#D76D77" stroke-width="2"/>
                        </svg>
                        <h3 class="text-xl font-semibold mb-3 text-[#D76D77]">Incident Reporting</h3>
                        <p class="text-white">Quick and secure system to report incidents with photo and location evidence.</p>
                    </div>
                    <div class="bg-white/10 backdrop-blur-sm p-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-white/20 text-white group">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" class="mb-4">
                            <path d="M20 8C14 8 8 14 8 20C8 26 14 32 20 32C26 32 32 26 32 20C32 14 26 8 20 8Z" stroke="#D76D77" stroke-width="2"/>
                            <circle cx="20" cy="20" r="4" fill="#D76D77"/>
                        </svg>
                        <h3 class="text-xl font-semibold mb-3 text-[#D76D77]">Safety Heat Map</h3>
                        <p class="text-white">Real-time location tracking and area safety analysis with heat mapping.</p>
                    </div>
                    <div class="bg-white/10 backdrop-blur-sm p-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-white/20 text-white group">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" class="mb-4">
                            <circle cx="16" cy="16" r="6" stroke="#D76D77" stroke-width="2"/>
                            <circle cx="24" cy="24" r="6" stroke="#D76D77" stroke-width="2"/>
                            <path d="M16 22L24 14" stroke="#D76D77" stroke-width="2"/>
                        </svg>
                        <h3 class="text-xl font-semibold mb-3 text-[#D76D77]">Walk With Us</h3>
                        <p class="text-white">Connect with verified companions for safer travel and commuting.</p>
                    </div>
                    <div class="bg-white/10 backdrop-blur-sm p-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-white/20 text-white group">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" class="mb-4">
                            <path d="M20 8L32 32H8L20 8Z" stroke="#D76D77" stroke-width="2"/>
                            <path d="M20 16V24" stroke="#D76D77" stroke-width="2"/>
                            <circle cx="20" cy="28" r="2" fill="#D76D77"/>
                        </svg>
                        <h3 class="text-xl font-semibold mb-3 text-[#D76D77]">SOS Alert System</h3>
                        <p class="text-white">One-tap emergency alerts to contacts and nearby authorities.</p>
                    </div>
                    <div class="bg-white/10 backdrop-blur-sm p-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-white/20 text-white group">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" class="mb-4">
                            <rect x="8" y="8" width="24" height="24" rx="2" stroke="#D76D77" stroke-width="2"/>
                            <path d="M12 28L16 20L20 24L24 16L28 28" stroke="#D76D77" stroke-width="2"/>
                        </svg>
                        <h3 class="text-xl font-semibold mb-3 text-[#D76D77]">Safety Analytics</h3>
                        <p class="text-white">Track and analyze safety patterns with detailed insights and response metrics.</p>
                    </div>
                    <div class="bg-white/10 backdrop-blur-sm p-6 rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-white/20 text-white group">
                        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" class="mb-4">
                            <path d="M20 8L32 20L20 32L8 20L20 8Z" stroke="#D76D77" stroke-width="2"/>
                            <circle cx="20" cy="20" r="6" stroke="#D76D77" stroke-width="2"/>
                        </svg>
                        <h3 class="text-xl font-semibold mb-3 text-[#D76D77]">Safe Spaces</h3>
                        <p class="text-white">Find and connect with verified safe locations and women-friendly businesses.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-20 bg-black bg-opacity-90 bg-fixed bg-cover" id="how-it-works" style="background-image: linear-gradient(to right, rgba(0, 0, 0, 0.95), rgba(0, 0, 0, 0.8)), url('img1.png');">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-4xl font-bold text-center mb-16 font-['Playfair_Display'] uppercase tracking-wider bg-gradient-to-r from-primary via-secondary to-pink-300 bg-clip-text text-transparent animate-gradient-flow relative after:content-[''] after:absolute after:bottom-0 after:left-1/2 after:-translate-x-1/2 after:w-24 after:h-1 after:bg-gradient-to-r after:from-primary after:to-secondary">How It Works</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="relative p-6 bg-white/10 backdrop-blur-sm rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-white/20 text-white group">
                        <div class="absolute -top-4 -left-4 w-12 h-12 bg-gradient-to-r from-[#4A1E73] to-[#D76D77] text-white rounded-full flex items-center justify-center text-2xl font-bold">1</div>
                        <div class="mt-4">
                            <h3 class="text-xl font-semibold mb-3 text-[#D76D77]">Set Up Safety Network</h3>
                            <p class="text-white">Register and add emergency contacts, safe locations, and trusted walk buddies.</p>
                        </div>
                    </div>
                    <div class="relative p-6 bg-white/10 backdrop-blur-sm rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-white/20 text-white group">
                        <div class="absolute -top-4 -left-4 w-12 h-12 bg-gradient-to-r from-[#4A1E73] to-[#D76D77] text-white rounded-full flex items-center justify-center text-2xl font-bold">2</div>
                        <div class="mt-4">
                            <h3 class="text-xl font-semibold mb-3 text-[#D76D77]">Configure Safety Features</h3>
                            <p class="text-white">Set up SOS triggers, enable real-time tracking, and customize safety alerts.</p>
                        </div>
                    </div>
                    <div class="relative p-6 bg-white/10 backdrop-blur-sm rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-white/20 text-white group">
                        <div class="absolute -top-4 -left-4 w-12 h-12 bg-gradient-to-r from-[#4A1E73] to-[#D76D77] text-white rounded-full flex items-center justify-center text-2xl font-bold">3</div>
                        <div class="mt-4">
                            <h3 class="text-xl font-semibold mb-3 text-[#D76D77]">Use Safety Tools</h3>
                            <p class="text-white">Access heat maps, find walk buddies, and report incidents in real-time.</p>
                        </div>
                    </div>
                    <div class="relative p-6 bg-white/10 backdrop-blur-sm rounded-lg shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2 border border-white/20 text-white group">
                        <div class="absolute -top-4 -left-4 w-12 h-12 bg-gradient-to-r from-[#4A1E73] to-[#D76D77] text-white rounded-full flex items-center justify-center text-2xl font-bold">4</div>
                        <div class="mt-4">
                            <h3 class="text-xl font-semibold mb-3 text-[#D76D77]">Emergency Response</h3>
                            <p class="text-white">Get immediate help from emergency contacts, authorities, and nearby safe spaces.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="py-20 bg-gradient-to-l from-white to-secondary" id="about">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                    <div class="space-y-6">
                        <h2 class="text-4xl font-bold text-gray-900">About SheShield</h2>
                        <p class="text-lg text-gray-600">We are dedicated to creating a safer environment for women through innovative technology solutions. Our platform provides real-time emergency response and support network to ensure women's safety anywhere, anytime.</p>
                        <button onclick="window.location.href='aboutnew.html'" class="bg-gradient-to-r from-[#4A1E73] to-[#D76D77] hover:from-[#5A2E83] hover:to-[#E77D87] text-white px-8 py-3 rounded-full transition-all duration-300 hover:shadow-lg transform hover:scale-[1.02] flex items-center space-x-2">
                            Learn More
                            <i class="fas fa-arrow-right ml-2"></i>
                        </button>
                    </div>
                    <div class="relative h-96 rounded-lg overflow-hidden shadow-xl transform hover:scale-105 transition-transform duration-300">
                        <img src="desktop-women.jpg" class="w-full h-full object-cover">
                    </div>
                </div>
            </div>
        </section>

        <!-- <section class="contact" id="contact">
            <div class="contact-content">
                <h2>Emergency Contact</h2>
                
            </div>
        </section> -->
        
        <!-- AI Chatbot Component -->
        <div x-data="{ 
            isOpen: false,
            userInput: '',
            selectedLanguage: 'en',
            messages: [],
            initialized: false,
            // Gemini API key
            geminiApiKey: 'AIzaSyAOoLhBbTHkj3iTq5suNfwIyvmA38jQIwQ',
            
            // Track previous messages to prevent duplicates
            lastUserMessage: '',
            lastBotResponse: '',
            isLoading: false,
            
            init() {
                if (!this.initialized) {
                    this.messages = [
                        {
                            id: 1,
                            type: 'bot',
                            text: 'Hello! I\'m SheShield\'s AI assistant. I\'m here to help you stay safe and informed. How can I assist you today?',
                            options: [
                                'I need immediate help',
                                'Women safety',
                                'Legal information',
                                'Emotional support',
                                'Report an incident'
                            ]
                        }
                    ];
                    this.initialized = true;
                }
            },
            
            async processUserInput(input) {
                // Don't process empty input
                if (!input || input.trim() === '') {
                    return { text: '', options: [] };
                }
                
                // Prevent duplicate processing of the same message
                if (input === this.lastUserMessage) {
                    return this.lastBotResponse;
                }
                
                // Set loading state
                this.isLoading = true;
                
                this.lastUserMessage = input;
                input = input.toLowerCase();
                let responseText = '';
                let responseOptions = ['Emergency help', 'Legal support', 'Emotional support', 'Report incident'];
                
                try {
                    // Try to use Gemini API for response generation
                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${this.geminiApiKey}`, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify({
                            contents: [{
                                parts: [{
                                    text: `You are a helpful AI assistant for SheShield, a women's safety app. Respond to the following user query with helpful, supportive information. Keep responses concise, focused on women's safety, and avoid repeating information: ${input}`
                                }]
                            }]
                        })
                    });
                    
                    if (response.ok) {
                        const data = await response.json();
                        if (data.candidates && data.candidates[0] && data.candidates[0].content) {
                            responseText = data.candidates[0].content.parts[0].text;
                            
                            // Format response text to replace asterisks with proper HTML bullet points and improve formatting
                            responseText = responseText
                                .replace(/\*\*([^*]+)\*\*/g, '<strong>$1</strong>') // Bold text between ** **
                                .replace(/\* /g, '• ') // Convert * bullets to • bullets
                                .replace(/\*([^\n]+)/g, '• $1') // Also catch asterisks without space
                                .replace(/\n/g, '<br>'); // Convert newlines to <br> tags
                            
                            // Determine appropriate options based on the input context
                            if (input.includes('emergency') || input.includes('help') || input.includes('danger') || input.includes('urgent')) {
                                responseOptions = ['Yes, guide me', 'No, I\'ll call instead', 'Show me safety tips', 'Contact someone for me'];
                            } else if (input.includes('legal') || input.includes('rights') || input.includes('law') || input.includes('police')) {
                                responseOptions = ['Rights as a woman', 'How to file FIR', 'Legal aid contacts', 'Workplace rights'];
                            } else if (input.includes('emotional') || input.includes('support') || input.includes('talk') || input.includes('feeling')) {
                                responseOptions = ['Connect with counselor', 'Self-care tips', 'Support groups', 'Coping strategies'];
                    } else if (input.includes('report') || input.includes('incident') || input.includes('happened') || input.includes('complaint')) {
                        responseOptions = ['Anonymous report', 'Detailed report', 'Evidence guidelines', 'Track existing report'];
                    }
                            
                            const result = { text: responseText, options: responseOptions };
                            this.lastBotResponse = result;
                            return result;
                        }
                    }
                    
                    // If API call fails or returns invalid response, fall back to local logic
                    throw new Error('API response not valid');
                    
                } catch (error) {
                    console.log('Gemini API error, using fallback:', error);
                    
                    // Fallback to original logic
                    if (input.includes('emergency') || input.includes('help') || input.includes('danger') || input.includes('urgent')) {
                        responseText = 'I understand you need urgent assistance. Please call the emergency helpline at 1091 immediately or use our SOS feature. Would you like me to guide you through using the SOS feature?';
                        responseOptions = ['Yes, guide me', 'No, I\'ll call instead', 'Show me safety tips', 'Contact someone for me'];
                    } else if (input.includes('legal') || input.includes('rights') || input.includes('law') || input.includes('police')) {
                        // Provide detailed legal information based on specific queries
                        if (input.includes('woman') && input.includes('rights')) {
                            responseText = `<strong>Rights as a Woman in India</strong><br><br>
                            
                            <strong>Constitutional Rights:</strong><br>
                            • Right to equality (Article 14)<br>
                            • Right against discrimination (Article 15)<br>
                            • Right to equal opportunity (Article 16)<br>
                            • Right to dignity and freedom (Article 21)<br><br>
                            
                            <strong>Legal Protection Acts:</strong><br>
                            • Protection of Women from Domestic Violence Act, 2005<br>
                            • Sexual Harassment of Women at Workplace Act, 2013<br>
                            • Maternity Benefit Act, 1961 (Amended 2017)<br>
                            • Equal Remuneration Act, 1976<br>
                            • Prohibition of Child Marriage Act, 2006<br><br>
                            
                            <strong>Criminal Law Protections:</strong><br>
                            • Protection against rape (Section 375, 376 IPC)<br>
                            • Protection against stalking (Section 354D IPC)<br>
                            • Protection against voyeurism (Section 354C IPC)<br>
                            • Protection against acid attacks (Section 326A, 326B IPC)<br><br>
                            
                            Would you like more specific information about any of these rights?`;
                        } else if (input.includes('file') && (input.includes('fir') || input.includes('complaint'))) {
                            responseText = `<strong>How to File an FIR (First Information Report)</strong><br><br>
                            
                            <strong>Step-by-Step Process:</strong><br>
                            1. Visit any police station - You have the right to file at ANY police station regardless of where the incident occurred (Zero FIR)<br>
                            2. Provide your statement - Be clear, concise and include all relevant details<br>
                            3. Review the written FIR before signing - Ensure all details are correctly recorded<br>
                            4. Collect your free copy of the FIR - This is your legal right<br>
                            5. Note the FIR number for future reference<br><br>
                            
                            <strong>Important Rights When Filing:</strong><br>
                            • Right to file in your preferred language<br>
                            • Right to have a female officer present (for women)<br>
                            • Right to medical examination in sexual assault cases<br>
                            • Right to legal aid if needed<br>
                            • Right to file online FIR for certain offenses<br><br>
                            
                            <strong>If Police Refuse to File:</strong><br>
                            • Approach the Superintendent of Police<br>
                            • File a complaint with the State Women's Commission<br>
                            • Approach a Magistrate directly under Section 156(3) CrPC<br><br>
                            
                            Need assistance with filing an FIR? SheShield can connect you with legal support.`;
                        } else if (input.includes('legal aid') || input.includes('lawyer') || input.includes('contacts')) {
                            responseText = `<strong>Legal Aid Contacts & Resources</strong><br><br>
                            
                            <strong>National Legal Services Authority (NALSA):</strong><br>
                            • Helpline: 1516<br>
                            • Website: nalsa.gov.in<br>
                            • Free legal services for eligible women<br>
                            • Email: nalsa-dla@nic.in<br><br>
                            
                            <strong>Women's Helplines:</strong><br>
                            • National Commission for Women: 1091<br>
                            • Women in Distress: 181<br>
                            • Police Emergency: 100<br>
                            • Domestic Violence Helpline: 181<br><br>
                            
                            <strong>NGOs Providing Legal Support:</strong><br>
                            • Majlis Legal Centre (Mumbai): 022-26662394<br>
                            • Lawyers Collective: 011-24373904/24372923<br>
                            • MARG (Delhi): 011-26496925<br>
                            • Shakti Shalini (Delhi): 011-24373737<br>
                            • Action India (Delhi): 011-23379181<br>
                            • Jagori (Delhi): 011-26692700<br>
                            • Vimochana (Bangalore): 080-25492781/82<br>
                            • Swayam (Kolkata): 033-24863367/68<br><br>
                            
                            <strong>District Legal Services Authority:</strong><br>
                            • Every district has a DLSA office providing free legal aid<br>
                            • Contact your local court complex for details<br>
                            • Services include free legal representation, counseling, and mediation<br><br>
                            
                            <strong>Online Resources:</strong><br>
                            • National Legal Services Authority: nalsa.gov.in<br>
                            • National Commission for Women: ncw.nic.in<br>
                            • Ministry of Women & Child Development: wcd.nic.in<br>
                            • Legal Services India: legalservicesindia.com<br><br>
                            
                            Would you like me to help you connect with legal aid in your specific location?`;
                        } else if (input.includes('workplace') || input.includes('office') || input.includes('job')) {
                            responseText = `<strong>Workplace Rights for Women</strong><br><br>
                            
                            <strong>Sexual Harassment Protection:</strong><br>
                            • Right to a safe working environment<br>
                            • Mandatory Internal Complaints Committee (ICC) in organizations with 10+ employees<br>
                            • Protection against retaliation for filing complaints<br>
                            • Confidentiality of complaint proceedings<br><br>
                            
                            <strong>Maternity Benefits:</strong><br>
                            • 26 weeks of paid maternity leave<br>
                            • Work from home options (where applicable)<br>
                            • Creche facilities in establishments with 50+ employees<br>
                            • Protection against dismissal during pregnancy<br><br>
                            
                            <strong>Equal Pay & Opportunity:</strong><br>
                            • Equal pay for equal work (Equal Remuneration Act)<br>
                            • Protection against discriminatory hiring practices<br>
                            • Equal opportunity for promotions and training<br><br>
                            
                            <strong>If Your Rights Are Violated:</strong><br>
                            • Document all incidents with dates and details<br>
                            • Report to the Internal Committee or Local Committee<br>
                            • File a complaint with the Labour Commissioner<br>
                            • Seek legal counsel through Women's Commission<br><br>
                            
                            Would you like specific guidance on filing a workplace harassment complaint?`;
                        } else {
                            responseText = `<strong>Legal Information & Resources</strong><br><br>
                            
                            Here are comprehensive legal resources to help you understand and protect your rights:<br><br>
                            
                            <strong>1. FUNDAMENTAL RIGHTS:</strong><br>
                            • Right to file an FIR at any police station (Zero FIR)<br>
                            • Right to legal representation<br>
                            • Right to medical examination in cases of assault<br>
                            • Right to privacy and confidentiality<br><br>
                            
                            <strong>2. WORKPLACE RIGHTS:</strong><br>
                            • Protection against harassment<br>
                            • Maternity benefits<br>
                            • Equal pay for equal work<br>
                            • Safe working environment<br><br>
                            
                            <strong>3. DOMESTIC RIGHTS:</strong><br>
                            • Protection against domestic violence<br>
                            • Right to residence in shared household<br>
                            • Right to maintenance and support<br>
                            • Protection orders against abusers<br><br>
                            
                            <strong>4. LEGAL RESOURCES:</strong><br>
                            • Women's Helpline: 1091<br>
                            • Legal Services Authority: 1516<br>
                            • Domestic Violence Helpline: 181<br><br>
                            
                            What specific legal information would you like to know more about?`;
                        }
                        
                        responseOptions = ['Rights as a woman', 'How to file FIR', 'Legal aid contacts', 'Workplace rights'];
                    } else if (input.includes('emotional') || input.includes('support') || input.includes('talk') || input.includes('feeling')) {
                        responseText = `<strong>Emotional Support</strong><br><br>
                            
                            I understand this may be a difficult time for you. Remember that your feelings are valid, and it's okay to seek help.<br><br>
                            
                            <strong>Immediate Support Resources:</strong><br>
                            • 24/7 Emotional Support Helpline: 1098<br>
                            • Crisis Counseling: Available through our partner organizations<br>
                            • Online Support Groups: Connect with others who understand<br>
                            • Professional Counselors: Available for confidential sessions<br><br>
                            
                            <strong>Coping Strategies:</strong><br>
                            • Practice deep breathing: Inhale for 4 counts, hold for 4, exhale for 6<br>
                            • Grounding technique: Name 5 things you can see, 4 you can touch, 3 you can hear, 2 you can smell, 1 you can taste<br>
                            • Mindfulness: Focus on the present moment without judgment<br>
                            • Self-care: Ensure you're getting proper rest, nutrition, and gentle movement<br><br>
                            
                            Would you like me to connect you with a counselor or provide more specific coping techniques?`;
                        responseOptions = ['Connect with counselor', 'Self-care tips', 'Support groups', 'Coping strategies'];
                    } else if (input.includes('legal') || input.includes('rights') || input.includes('law') || input.includes('justice')) {
                        responseText = `<strong>Legal Information & Resources</strong><br><br>
                            
                            Here are comprehensive legal resources to help you understand and protect your rights:<br><br>
                            
                            <strong>1. FUNDAMENTAL RIGHTS:</strong><br>
                            • Right to file an FIR at any police station (Zero FIR)<br>
                            • Right to legal representation<br>
                            • Right to medical examination in cases of assault<br>
                            • Right to privacy and confidentiality<br><br>
                            
                            <strong>2. WORKPLACE RIGHTS:</strong><br>
                            • Protection against harassment<br>
                            • Maternity benefits<br>
                            • Equal pay for equal work<br>
                            • Safe working environment<br><br>
                            
                            <strong>3. DOMESTIC RIGHTS:</strong><br>
                            • Protection against domestic violence<br>
                            • Right to residence in shared household<br>
                            • Right to maintenance and support<br>
                            • Protection orders against abusers<br><br>
                            
                            <strong>4. LEGAL RESOURCES:</strong><br>
                            • Women's Helpline: 1091<br>
                            • Legal Services Authority: 1516<br>
                            • Domestic Violence Helpline: 181<br><br>
                            
                            What specific legal information would you like to know more about?`;
                        responseOptions = ['Rights as a woman', 'How to file FIR', 'Legal aid contacts', 'Workplace rights', 'Report an incident'];
                    } else if (input.includes('report') || input.includes('incident') || input.includes('happened') || input.includes('complaint')) {
                        responseText = 'I can help you report an incident. Would you like to file an anonymous report or provide your contact details?';
                        responseOptions = ['Anonymous report', 'Detailed report', 'Evidence guidelines', 'Track existing report'];
                    } else if (input.includes('women') || input.includes('safety') || input.includes('protection') || input.includes('secure')) {
                        responseText = `<strong>Women's Safety Information</strong><br><br>
                            
                            Here are essential safety resources and information to help you stay protected:<br><br>
                            
                            <strong>1. PERSONAL SAFETY TIPS:</strong><br>
                            • Share your location with trusted contacts when traveling<br>
                            • Use SheShield's SOS feature in emergencies<br>
                            • Consider self-defense training and carry legal safety tools<br>
                            • Trust your instincts and be aware of your surroundings<br><br>
                            
                            <strong>2. DIGITAL SAFETY:</strong><br>
                            • Use strong, unique passwords for all accounts<br>
                            • Enable two-factor authentication<br>
                            • Be cautious about sharing personal information online<br>
                            • Regularly check privacy settings on social media<br><br>
                            
                            <strong>3. TRAVEL SAFETY:</strong><br>
                            • Use SheShield's Walk With Us feature for safer commuting<br>
                            • Share ride details with trusted contacts<br>
                            • Avoid isolated areas, especially at night<br>
                            • Use verified transportation services<br><br>
                            
                            <strong>4. EMERGENCY RESOURCES:</strong><br>
                            • Women's Helpline: 1091<br>
                            • Police Emergency: 100<br>
                            • SheShield Emergency Button: Tap SOS in the app<br><br>
                            
                            What specific safety information would you like to know more about?`;
                        responseOptions = ['Personal safety tips', 'Digital safety', 'Travel safety', 'Emergency contacts', 'Report an incident'];
                    } else if (input.includes('women') || input.includes('safety') || input.includes('protection') || input.includes('secure')) {
                        responseText = `<strong>Women's Safety Information</strong><br><br>
                            
                            Here are essential safety resources and information to help you stay protected:<br><br>
                            
                            <strong>1. PERSONAL SAFETY TIPS:</strong><br>
                            • Share your location with trusted contacts when traveling<br>
                            • Use SheShield's SOS feature in emergencies<br>
                            • Consider self-defense training and carry legal safety tools<br>
                            • Trust your instincts and be aware of your surroundings<br><br>
                            
                            <strong>2. DIGITAL SAFETY:</strong><br>
                            • Use strong, unique passwords for all accounts<br>
                            • Enable two-factor authentication<br>
                            • Be cautious about sharing personal information online<br>
                            • Regularly check privacy settings on social media<br><br>
                            
                            <strong>3. TRAVEL SAFETY:</strong><br>
                            • Use SheShield's Walk With Us feature for safer commuting<br>
                            • Share ride details with trusted contacts<br>
                            • Avoid isolated areas, especially at night<br>
                            • Use verified transportation services<br><br>
                            
                            <strong>4. EMERGENCY RESOURCES:</strong><br>
                            • Women's Helpline: 1091<br>
                            • Police Emergency: 100<br>
                            • SheShield Emergency Button: Tap SOS in the app<br><br>
                            
                            What specific safety information would you like to know more about?`;
                        responseOptions = ['Personal safety tips', 'Digital safety', 'Travel safety', 'Emergency contacts', 'Report an incident'];
                    } else if (input.includes('women safety') || input.includes('woman safety') || input.includes('safe women') || input.includes('female safety')) {
                        responseText = `<strong>Women's Safety Resources & Information</strong><br><br>
                            
                            Here are comprehensive resources to help women stay safe:<br><br>
                            
                            <strong>1. IMMEDIATE SAFETY MEASURES:</strong><br>
                            • Use SheShield's SOS button for emergencies<br>
                            • Share your live location with trusted contacts<br>
                            • Call Women's Helpline: 1091 for immediate assistance<br>
                            • Use the 'Walk With Us' feature when traveling alone<br><br>
                            
                            <strong>2. PREVENTIVE SAFETY:</strong><br>
                            • Check area safety using our Safety Heat Map<br>
                            • Join self-defense workshops (available in-app)<br>
                            • Connect with verified safe spaces in your area<br>
                            • Set up regular safety check-ins with contacts<br><br>
                            
                            <strong>3. REPORTING MECHANISMS:</strong><br>
                            • Report incidents through SheShield for faster response<br>
                            • Document evidence securely in the app<br>
                            • Access legal resources and support<br>
                            • Connect with support communities<br><br>
                            
                            What specific women's safety information would you like to know more about?`;
                        responseOptions = ['Personal safety tips', 'Safe travel advice', 'Harassment prevention', 'Legal rights', 'Emergency protocols'];
                    } else {
                        responseText = 'How can I assist you today? Please let me know what kind of help you need.';
                    }
                    
                    // Format response text to replace asterisks with proper HTML bullet points and improve formatting
                    responseText = responseText
                        .replace(/\*\*([^*]+)\*\*/g, '<strong>$1</strong>') // Bold text between ** **
                        .replace(/\*\* /g, '<strong>') // Handle opening bold tags
                        .replace(/ \*\*/g, '</strong>') // Handle closing bold tags
                        .replace(/\* ([^\n]+)/g, '• $1') // Convert * bullets to • bullets
                        .replace(/\*([^\n]+)/g, '• $1') // Also catch asterisks without space
                        .replace(/•\s*\*\*/g, '• <strong>') // Fix bullet points with bold text
                        .replace(/\*\*\s*•/g, '</strong> •') // Fix bold text with bullet points
                        .replace(/\n\s*\n/g, '<br>') // Add proper spacing between paragraphs
                        .replace(/\n([0-9]+\. )/g, '<br>$1') // Preserve numbered lists formatting
                        .replace(/•\s*([^<]+)\*/g, '• $1') // Remove trailing asterisks from bullet points
                        .replace(/\*([^\s]+)\*/g, '<em>$1</em>') // Convert *text* to italics
                        .replace(/\*:/g, ':') // Remove stray asterisks before colons
                        .replace(/\n/g, '<br>') // Convert all remaining newlines to <br> tags
                }
                
                const result = { text: responseText, options: responseOptions };
                this.lastBotResponse = result;
                this.isLoading = false;
                return result;
            }
        }" 
        class="fixed bottom-4 right-4 z-50 flex flex-col items-end">
            <!-- Chat Button -->
            <button @click="isOpen = !isOpen" 
                    class="bg-[#D76D77] text-white rounded-full p-4 shadow-lg hover:bg-[#C65C67] transition-all duration-300 mb-2">
                <svg x-show="!isOpen" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"/>
                </svg>
                <svg x-show="isOpen" class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>

            <!-- Chat Window -->
            <div x-show="isOpen" 
                 x-transition:enter="transition ease-out duration-300"
                 x-transition:enter-start="opacity-0 transform scale-90"
                 x-transition:enter-end="opacity-100 transform scale-100"
                 x-transition:leave="transition ease-in duration-300"
                 x-transition:leave-start="opacity-100 transform scale-100"
                 x-transition:leave-end="opacity-0 transform scale-90"
                 class="bg-white rounded-lg shadow-xl w-96 max-w-full mb-4"
                 @click.away="isOpen = false"
                 x-init="init()">
                <!-- Chat Header -->
                <div class="bg-gradient-to-r from-[#4A1E73] to-[#D76D77] text-white p-4 rounded-t-lg">
                    <div class="flex justify-between items-center">
                        <div>
                            <h3 class="font-bold">SheShield AI Assistant</h3>
                            <p class="text-sm text-pink-100">24/7 Support & Guidance</p>
                        </div>
                        <select x-model="selectedLanguage" 
                                class="text-sm bg-[#4A1E73] text-white rounded px-2 py-1 border border-[#D76D77]">
                            <option value="en">English</option>
                            <option value="hi">हिंदी</option>
                            <option value="es">Español</option>
                            <option value="fr">Français</option>
                            <option value="zh">中文</option>
                        </select>
                    </div>
                </div>

                <!-- Chat Messages -->
                <div class="h-96 overflow-y-auto p-4 space-y-4" id="chat-messages">
                    <template x-for="message in messages" :key="message.id">
                        <div :class="{'flex justify-end': message.type === 'user', 'flex justify-start': message.type === 'bot'}">
                            <div :class="{
                                'bg-gradient-to-r from-[#4A1E73] to-[#D76D77] text-white': message.type === 'user',
                                'bg-gray-100 text-gray-800': message.type === 'bot'
                            }" class="rounded-lg px-4 py-2 max-w-[80%]">
                                <p x-html="message.text"></p>
                                <template x-if="message.type === 'bot' && message.options">
                                    <div class="mt-2 space-y-2">
                                        <template x-for="option in message.options" :key="option">
                                            <button @click="userInput = option; $nextTick(() => { 
                                                    if (!isLoading) {
                                                        isLoading = true;
                                                        messages.push({ id: Date.now(), type: 'user', text: option }); 
                                                        processUserInput(option).then(response => { 
                                                            // Only add bot response if it's not empty
                                                            if (response.text) {
                                                                // Add a single comprehensive response instead of nested options
                                                                messages.push({ 
                                                                    id: Date.now() + 1, 
                                                                    type: 'bot', 
                                                                    text: response.text, 
                                                                    // Only include options for initial responses, not for follow-ups
                                                                    options: userInput === option ? [] : response.options
                                                                }); 
                                                            }
                                                            isLoading = false;
                                                            $nextTick(() => { document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight; });
                                                        }); 
                                                    }
                                                })"
                                                    class="block w-full text-left text-sm text-[#D76D77] hover:bg-pink-50 rounded px-2 py-1 transition-colors">
                                                <span x-text="option"></span>
                                            </button>
                                        </template>
                                    </div>
                                </template>
                            </div>
                        </div>
                    </template>
                    <div x-show="isLoading" class="flex mb-3">
                        <div class="bg-gray-100 text-gray-800 rounded-lg px-4 py-2 max-w-[80%] flex items-center">
                            <div class="flex space-x-1">
                                <div class="w-2 h-2 bg-[#D76D77] rounded-full animate-bounce"></div>
                                <div class="w-2 h-2 bg-[#D76D77] rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                                <div class="w-2 h-2 bg-[#D76D77] rounded-full animate-bounce" style="animation-delay: 0.4s"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chat Input -->
                <div class="border-t p-4">
                    <div class="flex space-x-2">
                        <input type="text" 
                               x-model="userInput" 
                               :disabled="isLoading"
                               @keydown.enter="if(userInput.trim() && !isLoading) { 
                                   const currentInput = userInput; 
                                   messages.push({ id: Date.now(), type: 'user', text: currentInput }); 
                                   userInput = ''; 
                                   isLoading = true;
                                   $nextTick(() => { 
                                       document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight; 
                                   }); 
                                   processUserInput(currentInput).then(response => { 
                                       isLoading = false;
                                       // Provide a comprehensive response without nested options for follow-up messages
                                       messages.push({ 
                                           id: Date.now() + 1, 
                                           type: 'bot', 
                                           text: response.text, 
                                           // Only include options for initial responses, not for follow-ups to avoid nested responses
                                           options: [] 
                                       }); 
                                       $nextTick(() => { 
                                           document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight; 
                                       }); 
                                   }); 
                               }"
                               placeholder="Type your message..."
                               class="flex-1 border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#4A1E73]">
                        <button :disabled="isLoading || !userInput.trim()" 
                                @click="if(userInput.trim() && !isLoading) { 
                                    const currentInput = userInput; 
                                    messages.push({ id: Date.now(), type: 'user', text: currentInput }); 
                                    userInput = ''; 
                                    isLoading = true;
                                    $nextTick(() => { 
                                        document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight; 
                                    }); 
                                    processUserInput(currentInput).then(response => { 
                                        isLoading = false;
                                        // Add 'Report an incident' and 'I need immediate help' to options if not already present
                                        let updatedOptions = response.options || [];
                                        if (updatedOptions.length > 0) {
                                            if (!updatedOptions.includes('Report an incident') && 
                                                !currentInput.toLowerCase().includes('report') && !currentInput.toLowerCase().includes('incident')) {
                                                updatedOptions.push('Report an incident');
                                            }
                                            if (!updatedOptions.includes('I need immediate help') && 
                                                !currentInput.toLowerCase().includes('immediate help') && !currentInput.toLowerCase().includes('emergency')) {
                                                updatedOptions.push('I need immediate help');
                                            }
                                        }
                                        messages.push({ id: Date.now() + 1, type: 'bot', text: response.text, options: updatedOptions }); 
                                        $nextTick(() => { 
                                            document.getElementById('chat-messages').scrollTop = document.getElementById('chat-messages').scrollHeight; 
                                        }); 
                                    }); 
                                }"
                                class="bg-gradient-to-r from-[#4A1E73] to-[#D76D77] text-white rounded-lg px-4 py-2 hover:from-[#5A2E83] hover:to-[#E77D87] transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 12h14m-7-7l7 7-7 7"/>
                            </svg>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <footer id="contact" class="contact bg-gray-900 text-white py-12">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="space-y-4">
                        <h3 class="text-xl font-semibold mb-4 text-[#D76D77]">Emergency Numbers</h3>
                        <div class="space-y-2">
                            <p class="flex items-center"><i class="fas fa-phone mr-3 text-[#D76D77]"></i> Women Helpline: 1091</p>
                            <p class="flex items-center"><i class="fas fa-phone mr-3 text-[#D76D77]"></i> Police: 100</p>
                            <p class="flex items-center"><i class="fas fa-envelope mr-3 text-[#D76D77]"></i> help@sheshield.com</p>
                            <p class="flex items-center"><i class="fas fa-map-marker-alt mr-3 text-[#D76D77]"></i> Mumbai, India - 400104</p>
                        </div>
                    </div>
                    <div class="space-y-4">
                        <h3 class="text-xl font-semibold mb-4 text-[#D76D77]">Quick Links</h3>
                        <div class="space-y-2">
                            <a href="#" class="block hover:text-[#D76D77] transition-colors duration-300">Safety Tips</a>
                            <a href="#" class="block hover:text-[#D76D77] transition-colors duration-300">Support Services</a>
                            <a href="#" class="block hover:text-[#D76D77] transition-colors duration-300">Community</a>
                            <a href="#" class="block hover:text-[#D76D77] transition-colors duration-300">Resources</a>
                        </div>
                    </div>
                    <div class="space-y-4">
                        <h3 class="text-xl font-semibold mb-4 text-[#D76D77]">Connect With Us</h3>
                        <div class="flex space-x-4">
                            <a href="#" class="text-2xl hover:text-[#D76D77] transition-colors duration-300"><i class="fab fa-facebook"></i></a>
                            <a href="#" class="text-2xl hover:text-[#D76D77] transition-colors duration-300"><i class="fab fa-twitter"></i></a>
                            <a href="#" class="text-2xl hover:text-[#D76D77] transition-colors duration-300"><i class="fab fa-instagram"></i></a>
                            <a href="#" class="text-2xl hover:text-[#D76D77] transition-colors duration-300"><i class="fab fa-linkedin"></i></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="border-t border-gray-800 mt-12 pt-8 text-center">
                <p class="text-gray-400">Created By SheShield | All Rights Reserved</p>
            </div>
        </footer>

        
        <script>
            const chatbot = {
                greetings: [
                    "Hello! I'm SheShield's AI assistant. I'm here to help you stay safe and informed. How can I assist you today?",
                    "Welcome to SheShield! I'm your personal safety assistant. What would you like to know?",
                    "Hi there! I'm here to provide support and information about personal safety. How may I help you?"
                ],
    
                responses: {
                    "help": {
                        keywords: ["help", "assistance", "support"],
                        reply: `I understand you need help. Let me guide you through our support options:
    
    1. Emergency Assistance:
       • Immediate Danger: Call 112 (All-India Emergency)
       • Police: 100
       • Women's Helpline: 1091
       • Ambulance: 102
       • Fire: 101
    
    2. Support Services:
       • 24/7 Women's Helpline: 1091
       • Domestic Violence Helpline: 181
       • NCW WhatsApp Help: 7217735372
    
    3. How would you like me to help you?
       • Need immediate emergency assistance
       • Want to report an incident
       • Looking for safety tips
       • Need legal information
       • Need emotional support
    
    Please select one of these options or tell me more about your situation.`
                    },
                    "emergency": {
                        keywords: ["emergency", "danger", "urgent", "immediate"],
                        reply: ` EMERGENCY PROTOCOL ACTIVATED 
    
    1. IMMEDIATE ACTIONS:
       • If in immediate danger, call 112 NOW
       • Police: 100
       • Women's Helpline: 1091
       • Ambulance: 102
    
    2. SAFETY STEPS:
       • Get to a safe location if possible
       • Stay on the line with emergency services
       • Make noise to attract attention if needed
       • Use SheShield's SOS feature if available
    
    3. WHILE WAITING FOR HELP:
       • Stay on the phone with emergency services
       • Keep your location services on
       • Document any evidence if safe to do so
       • Contact trusted friends/family
    
    Do you need me to:
    • Guide you through contacting emergency services
    • Help you use SheShield's SOS feature
    • Connect you with local support services
    • Provide specific safety instructions
    
    Please let me know what you need right now.`
                    },
                    "report": {
                        keywords: ["report", "incident", "complaint", "file"],
                        reply: `I'll help you report an incident. Here's what you need to know:
    
    1. REPORTING OPTIONS:
       • Anonymous Report: No personal details required
       • Detailed Report: With contact information
       • Police Report: Direct to law enforcement
       • NCW Report: National Commission for Women
    
    2. WHAT TO INCLUDE:
       • Type of incident
       • Date and time
       • Location details
       • Description of what happened
       • Any evidence (photos, videos, messages)
       • Witness information (if any)
    
    3. REPORTING PROCESS:
       • Click "Report" in the navigation menu
       • Choose anonymous or identified report
       • Fill in the incident details
       • Add any supporting evidence
       • Submit the report
    
    4. AFTER REPORTING:
       • You'll receive a unique report ID
       • Track your report status
       • Get updates on actions taken
       • Access support services
    
    Would you like me to:
    • Guide you through filing a report now
    • Explain more about the reporting process
    • Connect you with a support advocate
    • Provide information about your rights
    
    What would be most helpful?`
                    },
                    "safety": {
                        keywords: ["safety", "protect", "secure", "prevention", "tips"],
                        reply: `Here are comprehensive safety guidelines:
    
    1. PERSONAL SAFETY:
       • Stay aware of surroundings
       • Trust your instincts
       • Walk confidently and purposefully
       • Vary your routine
       • Keep emergency contacts on speed dial
       • Share location with trusted contacts
    
    2. DIGITAL SAFETY:
       • Use strong, unique passwords
       • Enable two-factor authentication
       • Be careful with personal information
       • Check privacy settings regularly
       • Be cautious with unknown links
       • Monitor your digital footprint
    
    3. TRAVEL SAFETY:
       • Plan routes in advance
       • Stay in well-lit areas
       • Use trusted transportation
       • Share trip details with trusted contacts
       • Keep emergency numbers handy
       • Use SheShield's tracking feature
    
    4. HOME SAFETY:
       • Secure all entries
       • Install good lighting
       • Know your neighbors
       • Have an emergency plan
       • Keep emergency supplies ready
    
    Would you like specific details about:
    • Personal safety techniques
    • Digital security measures
    • Safe travel practices
    • Home security tips
    • Emergency preparedness
    
    What area of safety would you like to focus on?`
                    },
                    "legal": {
                        keywords: ["legal", "rights", "law", "justice"],
                        reply: `<strong>Legal Information</strong><br><br>
                            
                            <strong>Constitutional Rights:</strong><br>
                            • Right to equality (Article 14)<br>
                            • Right against discrimination (Article 15)<br>
                            • Right to equal opportunity (Article 16)<br>
                            • Right to dignity and freedom (Article 21)<br><br>
                            
                            <strong>Legal Protection Acts:</strong><br>
                            • Protection of Women from Domestic Violence Act, 2005<br>
                            • Sexual Harassment of Women at Workplace Act, 2013<br>
                            • Maternity Benefit Act, 1961 (Amended 2017)<br>
                            • Equal Remuneration Act, 1976<br>
                            • Prohibition of Child Marriage Act, 2006<br><br>
                            
                            <strong>Criminal Law Protections:</strong><br>
                            • Protection against rape (Section 375, 376 IPC)<br>
                            • Protection against stalking (Section 354D IPC)<br>
                            • Protection against voyeurism (Section 354C IPC)<br>
                            • Protection against acid attacks (Section 326A, 326B IPC)<br><br>
                            
                            Would you like more specific information about any of these rights?`
                    },
                    "support": {
                        keywords: ["emotional", "counseling", "therapy", "talk"],
                        reply: `<strong>Emotional Support</strong><br><br>
                            
                            I understand this may be a difficult time for you. Remember that your feelings are valid, and it's okay to seek help.<br><br>
                            
                            <strong>Immediate Support Resources:</strong><br>
                            • 24/7 Emotional Support Helpline: 1098<br>
                            • Crisis Counseling: Available through our partner organizations<br>
                            • Online Support Groups: Connect with others who understand<br>
                            • Professional Counselors: Available for confidential sessions<br><br>
                            
                            <strong>Coping Strategies:</strong><br>
                            • Practice deep breathing: Inhale for 4 counts, hold for 4, exhale for 6<br>
                            • Grounding technique: Name 5 things you can see, 4 you can touch, 3 you can hear, 2 you can smell, 1 you can taste<br>
                            • Mindfulness: Focus on the present moment without judgment<br>
                            • Self-care: Ensure you're getting proper rest, nutrition, and gentle movement<br><br>
                            
                            Would you like me to connect you with a counselor or provide more specific coping techniques?`
                    }
                },
    
                findResponse(input) {
                    input = input.toLowerCase();
                    
                    // Check for exact matches first
                    for (const category in this.responses) {
                        const keywords = this.responses[category].keywords;
                        if (keywords.some(keyword => input.includes(keyword))) {
                            return this.responses[category].reply;
                        }
                    }
    
                    // If no exact match, provide a helpful default response
                    return `I'm here to help you. Please let me know what you need:
    
    1. EMERGENCY ASSISTANCE:
       • If you're in immediate danger
       • Need urgent help
       • Medical emergency
       • Police assistance
    
    2. INCIDENT REPORTING:
       • File a complaint
       • Document an incident
       • Track a report
       • Update existing report
    
    3. SAFETY INFORMATION:
       • Personal safety tips
       • Digital security
       • Travel safety
       • Home security
    
    4. SUPPORT SERVICES:
       • Legal assistance
       • Emotional support
       • Counseling services
       • Support groups
    
    5. RESOURCES:
       • Helpline numbers
       • Support organizations
       • Legal aid
       • Medical services
    
    Please tell me what type of help you need, or click one of the quick action buttons below.`;
                }
            };
    
            function handleQuickAction(action) {
                const actionMessages = {
                    'emergency': 'I need emergency help',
                    'report': 'How do I report an incident?',
                    'safety': 'Can you provide safety tips?',
                    'rights': 'What are my legal rights?'
                };
                
                const message = actionMessages[action];
                appendMessage('user', message);
                showTypingIndicator();
                
                setTimeout(() => {
                    removeTypingIndicator();
                    const response = chatbot.findResponse(message);
                    appendMessage('bot', response);
                }, 1000);
            }
    
            function showTypingIndicator() {
                const chatMessages = document.getElementById('chat-messages');
                const typingDiv = document.createElement('div');
                typingDiv.id = 'typing-indicator';
                typingDiv.className = 'flex mb-3';
                typingDiv.innerHTML = `
                    <div class="bg-gray-200 rounded-lg py-2 px-4">
                        <div class="flex space-x-1">
                            <div class="w-2 h-2 bg-gray-500 rounded-full animate-bounce"></div>
                            <div class="w-2 h-2 bg-gray-500 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
                            <div class="w-2 h-2 bg-gray-500 rounded-full animate-bounce" style="animation-delay: 0.4s"></div>
                        </div>
                    </div>
                `;
                chatMessages.appendChild(typingDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
    
            function removeTypingIndicator() {
                const indicator = document.getElementById('typing-indicator');
                if (indicator) {
                    indicator.remove();
                }
            }
    
            function appendMessage(sender, message) {
                const chatMessages = document.getElementById('chat-messages');
                const messageDiv = document.createElement('div');
                messageDiv.className = sender === 'bot' ? 
                    'flex mb-3' : 
                    'flex mb-3 justify-end';
                
                const messageBubble = document.createElement('div');
                messageBubble.className = sender === 'bot' ? 
                    'bg-gray-200 rounded-lg py-2 px-4 max-w-[80%]' : 
                    'bg-pink-500 text-white rounded-lg py-2 px-4 max-w-[80%]';
                
                // Format message with proper styling
                const formattedMessage = message.split('\n').map(line => {
                    const trimmedLine = line.trim();
                    if (trimmedLine.match(/^\d+\./)) {
                        // Section headers
                        return `<div class="font-bold text-lg mt-2 mb-1">${trimmedLine}</div>`;
                    } else if (trimmedLine.startsWith('•')) {
                        // Bullet points
                        return `<div class="ml-4 my-1">${trimmedLine}</div>`;
                    } else if (trimmedLine.match(/^[A-Z\s]+:/)) {
                        // Category headers
                        return `<div class="font-bold mt-3 mb-1">${trimmedLine}</div>`;
                    }
                    return `<div>${trimmedLine}</div>`;
                }).join('');
                
                messageBubble.innerHTML = formattedMessage;
                messageDiv.appendChild(messageBubble);
                chatMessages.appendChild(messageDiv);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
    
            function handleUserInput(event) {
                event.preventDefault();
                const input = document.getElementById('user-input');
                const message = input.value.trim();
                
                if (message) {
                    appendMessage('user', message);
                    showTypingIndicator();
                    
                    setTimeout(() => {
                        removeTypingIndicator();
                        const response = chatbot.findResponse(message);
                        appendMessage('bot', response);
                    }, 1000 + Math.random() * 1000);
                    
                    input.value = '';
                }
            }
    
            // Initialize chatbot when page loads
            window.addEventListener('load', () => {
                const greeting = chatbot.greetings[Math.floor(Math.random() * chatbot.greetings.length)];
                appendMessage('bot', greeting);
            });
        </script>
    </body>
</html>